# 📚 图书馆管理系统

> 基于 Vue 3 + Element Plus 的现代化图书馆管理系统

## ✨ 功能特性

### 📖 书籍管理
- **完整CRUD操作**: 新增、修改、删除、查看书籍信息
- **状态管理**: 正常、全部借出、禁止借出三种状态
- **智能操作**: 根据书籍状态显示不同的操作按钮
- **数据验证**: 完整的表单验证，确保数据完整性

### 📑 副本管理  
- **物理副本管理**: 每本书可包含多个物理副本
- **副本状态**: 在库、丢失、损坏、借出、未归档
- **借阅操作**: 支持借出、归还、归档等操作
- **位置管理**: 记录每个副本的具体存放位置

### 📝 借阅记录
- **历史记录**: 完整的借阅历史追踪
- **状态显示**: 区分已归还和借阅中的记录
- **时间计算**: 自动计算借阅天数
- **弹窗展示**: 美观的表格形式展示记录

## 🛠️ 技术栈

- **前端框架**: Vue 3 (Composition API)
- **UI组件库**: Element Plus
- **构建工具**: Vite
- **状态管理**: Composables (无需外部状态库)
- **语言**: JavaScript (支持TypeScript)

## 🚀 快速开始

### 安装依赖
```bash
npm install
```

### 启动开发服务器
```bash
npm run dev
```

### 构建生产版本
```bash
npm run build
```

## 📁 项目结构

```
src/
├── components/                 # Vue组件
│   ├── BookManagement.vue     # 书籍管理主页面
│   ├── CopyManagement.vue     # 副本管理页面
│   └── BorrowRecordsDialog.vue # 借阅记录弹窗
├── composables/               # 组合式函数
│   └── useBookStore.js        # 书籍状态管理
├── models/                    # 数据模型
│   └── book.js               # 书籍、副本、借阅记录模型
└── types/                    # TypeScript类型定义
```

## 🔄 UI库迁移支持

### KOCA Design 迁移工具

为了支持从 Element Plus 到 KOCA Design 的平滑迁移，我们提供了完整的自动化工具：

#### 1. 快速替换脚本
```bash
./quick-migrate.sh
```
- 自动备份当前版本
- 批量替换组件标签
- 更新API调用

#### 2. Node.js 迁移工具
```bash
node migrate-to-koca.js
```
- 精确组件映射
- 详细替换日志
- 错误处理机制

#### 3. 详细迁移指南
查看 `KOCA_MIGRATION_GUIDE.md` 获取完整的迁移说明。

## 🤖 AI 编程支持

项目包含 `.github/copilot-instructions.md`，为AI编程助手提供项目特定的编程指导：
- 架构模式说明
- 开发工作流程  
- 项目约定规范
- 集成点说明

## 🎨 界面预览

### 书籍管理页面
- 表格展示所有书籍信息
- 状态筛选和操作按钮
- 新增/编辑书籍对话框

### 副本管理页面  
- 面包屑导航
- 书籍基本信息展示
- 副本列表和操作按钮
- 借出/归还对话框

### 借阅记录弹窗
- 副本信息概览
- 借阅历史表格
- 借阅状态和天数计算

## 📋 功能清单

- [x] 书籍增删改查
- [x] 书籍状态管理 (正常/全部借出/禁止借出)
- [x] 副本增删改查
- [x] 副本借出/归还操作
- [x] 副本状态管理 (在库/丢失/损坏/借出/未归档)
- [x] 借阅记录查看
- [x] 表单验证
- [x] 操作确认对话框
- [x] 成功/失败消息提示
- [x] 面包屑导航
- [x] 响应式设计
- [x] 中文本地化

## 🔧 配置说明

### Vite 配置
- 自动导入 Element Plus 组件
- 支持按需引入，减小打包体积

### Element Plus 配置
- 中文语言包
- 全局图标注册
- 主题配置

## 📖 开发指南

### 添加新组件
1. 在 `src/components/` 下创建组件文件
2. 在需要的地方导入使用
3. 如果是全局组件，在 `main.js` 中注册

### 扩展数据模型
1. 在 `src/models/book.js` 中修改模型类
2. 更新 `useBookStore.js` 中的相关方法
3. 在组件中使用新的数据字段

### 样式定制
- 全局样式在 `src/App.vue` 中定义
- 组件私有样式使用 scoped CSS
- 可通过CSS变量自定义Element Plus主题

## 🐛 问题排查

### 常见问题
1. **组件不显示**: 检查Element Plus是否正确导入
2. **样式异常**: 确认CSS文件是否正确引入
3. **数据不更新**: 检查响应式数据绑定

### 调试技巧
- 使用Vue DevTools查看组件状态
- 在浏览器控制台查看错误信息
- 利用Vue的开发模式调试功能

## 🤝 贡献指南

1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 推送到分支
5. 创建 Pull Request

## 📄 许可证

MIT License
